if poisoned
    @setvar! needsCure 1 

    if needsCure = 1 and findlayer self "outerbody" as PotionStore 
        getlabel PotionStore PotionStoreLabel
        if 'potion satchel' in PotionStoreLabel
            if findtype "Orange Potion" PotionStore as PotionOrange
            getlabel PotionOrange PotionOrangeLabel
                if 'next usable' in PotionOrangeLabel
                    sysmsg 'FAILED: {{PotionOrangeLabel}}' 33          
                else
                    sysmsg "[Satchel] Drinking {{PotionOrangeLabel}}" 68
                    dclick PotionOrange
                endif
                @setvar! needsCure 0
            endif
        endif
    endif
        
    if needsCure = 1 and findtype "alchemists satchel" backpack as PotionStore 
        getlabel PotionStore PotionStoreLabel
        if 'potion satchel' in PotionStoreLabel
            if findtype "Orange Potion" PotionStore as PotionOrange
            getlabel PotionOrange PotionOrangeLabel
        if 'next usable' in PotionOrangeLabel
                    sysmsg 'FAILED: {{PotionOrangeLabel}}' 33          
                else
                    sysmsg "[Satchel] Drinking {{PotionOrangeLabel}}" 68
                dclick PotionOrange
                endif
                @setvar! needsCure 0
            endif
        endif
    endif 
       
    if needsCure = 1 and findtype "Orange Potion" backpack as PotionOrange
        getlabel PotionOrange PotionOrangeLabel
    if 'next usable' in PotionOrangeLabel
            sysmsg 'FAILED: {{PotionOrangeLabel}}' 33          
        else
            sysmsg "[Backpack] Drinking {{PotionOrangeLabel}}" 68
        dclick PotionOrange
        endif
        @setvar! needsCure 0
    endif

    if needCure = 1 
        sysmsg 'No Orange Potion found!' 33
    endif
endif
